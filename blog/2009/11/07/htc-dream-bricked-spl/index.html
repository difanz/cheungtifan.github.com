
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>刷SPL致死的T-Mobile G1怎样恢复加速传感器 - tifan</title>
  <meta name="author" content="tifan">

  
  <meta name="description" content="手贱不可怕，怕的是手贱以后没有办法挽救。 八月份我买了一台T-Mobile G1，当然看中的是Linux操作系统和强大的硬件配置，没想到问题也不是太少，总体来讲不太适合生产用手机，倒是适合折腾。 于是我在9月底折腾了刷SPL，当然radio没有刷成功，否则也就没有本文了。 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tifan.net/blog/2009/11/07/htc-dream-bricked-spl/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="tifan" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">tifan</a></h1>
  
    <h2>没意思的东西</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tifan.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">刷SPL致死的T-Mobile G1怎样恢复加速传感器</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-07T15:42:04-08:00" pubdate data-updated="true">Nov 7<span>th</span>, 2009</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>手贱不可怕，怕的是手贱以后没有办法挽救。</p>

<!-- more -->


<p>八月份我买了一台T-Mobile G1，当然看中的是Linux操作系统和强大的硬件配置，没想到问题也不是太少，总体来讲不太适合生产用手机，倒是适合折腾。</p>

<p>于是我在9月底折腾了刷SPL，当然radio没有刷成功，否则也就没有本文了。于是华丽的有了一块独一无二的砖头&#8211;启动不起来了。没办法，我可不要一块两千块钱的砖头，发深圳修吧。</p>

<p>260大元换了一个NAND芯片（业内人士成为<em>字库</em>），说的是加速度感应器没问题。拿到后确实没问题，但是固件是HiAPK.com的固件，我不是太喜欢这个固件，主要是慢，命令行工具少。选用了cynaogen mod 4.0.2，感觉比较稳定，以及他的recovery 1.4。刷了以后，加速度感应没有了。打电话给JS，JS说是不是刷机了，告诉我需要重新发去&#8221;做数据&#8221;。</p>

<p>我觉得不对头，反正硬件没坏，软件问题我这个半路出家的玩嵌入式Linux怎么也能搞定了吧，于是开始去xda-developer翻帖子。一个月的时间，中间还有个GRE(这也是我好久不写Blog的原因)，足够让我查到相关资料。</p>

<p>查资料的结果就是/system/bin/akmd是传感器的daemon process(还有个用户，compass)；/data/misc/akmd_set.txt是akmd的配置文件，可以删除这个文件重新校准。但是我这里并没有这个文件，也许是因为换NAND的原因吧。说句题外话，我觉得根本不用换NAND Flash ROM的，重新插到编程器上烧录就好了吧。。。该死的Death SPL。nandroid显示的是一串0而不是以前的HT什么东西。估计是兼容性问题还是什么的，但是固件在那里放着的，JS确实可以&#8221;做数据&#8221;。我不甘心花来回40的顺丰快递换一个文件，于是决定自己折腾折腾。</p>

<p>反正硬件都是一样的，软件问题啦。最先怀疑的就是akmd，看见有些帖子说可以换老版本的akmd，抓紧去找了个HTC的1.1的ROM，提取出来了akmd，在console里替换掉，运行GPS Status果然可以正确的指南针了。考虑到众多G1用户有这样的问题，我把它发来了自己的服务器上。点<a href="http://www.huaxueba.com/alex/akmd.gz">这个链接</a>就可以下载了。</p>

<p>文件信息：</p>

<pre><code>akmd.gz 48358 bytes

akmd
md5sum  517a87a4e6caa5e66f0520c68dcb7c0e   
sha1sum b741df4aa075115192fe2659c472cd1f6bcd84a0&lt;
</code></pre>

<p>下载回来文件，用gzip一类的文件（不见得你是用UNIX/Linux的，7-zip也不错）解压，拷贝到sd卡第一个分区。在console下（Home+Power开机，用cm-1.4的recovery选择Console）执行下面的命令：</p>

<pre><code>mount -a
cd /system/bin
cp ./akmd /sdcard/akmd_old  
cp /sdcard/akmd /system/bin  
tar cf /sdcard/misc.tar /data/misc/  
rm /data/misc/akmd_set.txt  
rm /data/misc/rild*  
reboot
</code></pre>

<p>试试你的加速度感应器吧！</p>

<p>关键字：</p>

<p>Android Google G1 换字库 重力感应 SPL刷死 akmd</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">tifan</span></span>

      








  


<time datetime="2009-11-07T15:42:04-08:00" pubdate data-updated="true">Nov 7<span>th</span>, 2009</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://tifan.net/blog/2009/11/07/htc-dream-bricked-spl/" data-via="tifan" data-counturl="http://tifan.net/blog/2009/11/07/htc-dream-bricked-spl/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2008/09/21/BNDZ26/" title="Previous Post: SFD08 青岛站">&laquo; SFD08 青岛站</a>
      
      
        <a class="basic-alignment right" href="/blog/2010/04/21/yantai-presentation/" title="Next Post: OSQDU烟台大学讲座活动总结">OSQDU烟台大学讲座活动总结 &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/01/03/kai-shi-shi-yong-octopress/">开始使用Octopress</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/22/thoughts-about-spambots/">抓恶意爬虫以及防止恶意爬虫的一点想法</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/08/disappointing-aliyun/">令人失望的阿里云</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/12/14/a-tale-of-screen-ram/">A Tale of Screen RAM</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/11/27/starting-from-nonhexie-Android-in-China/">从不和谐的 Android 市场开始扯</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("tifan", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/tifan" class="twitter-follow-button" data-show-count="false">Follow @tifan</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - tifan -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'tifan-net';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://tifan.net/blog/2009/11/07/htc-dream-bricked-spl/';
        var disqus_url = 'http://tifan.net/blog/2009/11/07/htc-dream-bricked-spl/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
